<?php

// Helper: Convert country name to emoji flag
function country_name_to_emoji_flag($country_name) {
$map = [
    // English names
    'Afghanistan' => '🇦🇫',
    'Albania' => '🇦🇱',
    'Algeria' => '🇩🇿',
    'Andorra' => '🇦🇩',
    'Angola' => '🇦🇴',
    'Antigua and Barbuda' => '🇦🇬',
    'Argentina' => '🇦🇷',
    'Armenia' => '🇦🇲',
    'Australia' => '🇦🇺',
    'Austria' => '🇦🇹',
    'Azerbaijan' => '🇦🇿',
    'Bahamas' => '🇧🇸',
    'Bahrain' => '🇧🇭',
    'Bangladesh' => '🇧🇩',
    'Barbados' => '🇧🇧',
    'Belarus' => '🇧🇾',
    'Belgium' => '🇧🇪',
    'Belize' => '🇧🇿',
    'Benin' => '🇧🇯',
    'Bhutan' => '🇧🇹',
    'Bolivia' => '🇧🇴',
    'Bosnia and Herzegovina' => '🇧🇦',
    'Botswana' => '🇧🇼',
    'Brazil' => '🇧🇷',
    'Brunei' => '🇧🇳',
    'Bulgaria' => '🇧🇬',
    'Burkina Faso' => '🇧🇫',
    'Burundi' => '🇧🇮',
    'Cabo Verde' => '🇨🇻',
    'Cambodia' => '🇰🇭',
    'Cameroon' => '🇨🇲',
    'Canada' => '🇨🇦',
    'Central African Republic' => '🇨🇫',
    'Chad' => '🇹🇩',
    'Chile' => '🇨🇱',
    'China' => '🇨🇳',
    'Colombia' => '🇨🇴',
    'Comoros' => '🇰🇲',
    'Congo' => '🇨🇬',
    'Costa Rica' => '🇨🇷',
    'Croatia' => '🇭🇷',
    'Cuba' => '🇨🇺',
    'Cyprus' => '🇨🇾',
    'Czech Republic' => '🇨🇿',
    'Democratic Republic of the Congo' => '🇨🇩',
    'Denmark' => '🇩🇰',
    'Djibouti' => '🇩🇯',
    'Dominica' => '🇩🇲',
    'Dominican Republic' => '🇩🇴',
    'East Timor' => '🇹🇱',
    'Ecuador' => '🇪🇨',
    'Egypt' => '🇪🇬',
    'El Salvador' => '🇸🇻',
    'Equatorial Guinea' => '🇬🇶',
    'Eritrea' => '🇪🇷',
    'Estonia' => '🇪🇪',
    'Eswatini' => '🇸🇿',
    'Ethiopia' => '🇪🇹',
    'Fiji' => '🇫🇯',
    'Finland' => '🇫🇮',
    'France' => '🇫🇷',
    'Gabon' => '🇬🇦',
    'Gambia' => '🇬🇲',
    'Georgia' => '🇬🇪',
    'Germany' => '🇩🇪',
    'Ghana' => '🇬🇭',
    'Greece' => '🇬🇷',
    'Grenada' => '🇬🇩',
    'Guatemala' => '🇬🇹',
    'Guinea' => '🇬🇳',
    'Guinea-Bissau' => '🇬🇼',
    'Guyana' => '🇬🇾',
    'Haiti' => '🇭🇹',
    'Honduras' => '🇭🇳',
    'Hungary' => '🇭🇺',
    'Iceland' => '🇮🇸',
    'India' => '🇮🇳',
    'Indonesia' => '🇮🇩',
    'Iran' => '🇮🇷',
    'Iraq' => '🇮🇶',
    'Ireland' => '🇮🇪',
    'Israel' => '🇮🇱',
    'Italy' => '🇮🇹',
    'Ivory Coast' => '🇨🇮',
    'Jamaica' => '🇯🇲',
    'Japan' => '🇯🇵',
    'Jordan' => '🇯🇴',
    'Kazakhstan' => '🇰🇿',
    'Kenya' => '🇰🇪',
    'Kiribati' => '🇰🇮',
    'Kuwait' => '🇰🇼',
    'Kyrgyzstan' => '🇰🇬',
    'Laos' => '🇱🇦',
    'Latvia' => '🇱🇻',
    'Lebanon' => '🇱🇧',
    'Lesotho' => '🇱🇸',
    'Liberia' => '🇱🇷',
    'Libya' => '🇱🇾',
    'Liechtenstein' => '🇱🇮',
    'Lithuania' => '🇱🇹',
    'Luxembourg' => '🇱🇺',
    'Madagascar' => '🇲🇬',
    'Malawi' => '🇲🇼',
    'Malaysia' => '🇲🇾',
    'Maldives' => '🇲🇻',
    'Mali' => '🇲🇱',
    'Malta' => '🇲🇹',
    'Marshall Islands' => '🇲🇭',
    'Mauritania' => '🇲🇷',
    'Mauritius' => '🇲🇺',
    'Mexico' => '🇲🇽',
    'Micronesia' => '🇫🇲',
    'Moldova' => '🇲🇩',
    'Monaco' => '🇲🇨',
    'Mongolia' => '🇲🇳',
    'Montenegro' => '🇲🇪',
    'Morocco' => '🇲🇦',
    'Mozambique' => '🇲🇿',
    'Myanmar' => '🇲🇲',
    'Namibia' => '🇳🇦',
    'Nauru' => '🇳🇷',
    'Nepal' => '🇳🇵',
    'Netherlands' => '🇳🇱',
    'New Zealand' => '🇳🇿',
    'Nicaragua' => '🇳🇮',
    'Niger' => '🇳🇪',
    'Nigeria' => '🇳🇬',
    'North Korea' => '🇰🇵',
    'North Macedonia' => '🇲🇰',
    'Norway' => '🇳🇴',
    'Oman' => '🇴🇲',
    'Pakistan' => '🇵🇰',
    'Palau' => '🇵🇼',
    'Panama' => '🇵🇦',
    'Papua New Guinea' => '🇵🇬',
    'Paraguay' => '🇵🇾',
    'Peru' => '🇵🇪',
    'Philippines' => '🇵🇭',
    'Poland' => '🇵🇱',
    'Portugal' => '🇵🇹',
    'Qatar' => '🇶🇦',
    'Romania' => '🇷🇴',
    'Russia' => '🇷🇺',
    'Rwanda' => '🇷🇼',
    'Saint Kitts and Nevis' => '🇰🇳',
    'Saint Lucia' => '🇱🇨',
    'Saint Vincent and the Grenadines' => '🇻🇨',
    'Samoa' => '🇼🇸',
    'San Marino' => '🇸🇲',
    'Sao Tome and Principe' => '🇸🇹',
    'Saudi Arabia' => '🇸🇦',
    'Senegal' => '🇸🇳',
    'Serbia' => '🇷🇸',
    'Seychelles' => '🇸🇨',
    'Sierra Leone' => '🇸🇱',
    'Singapore' => '🇸🇬',
    'Slovakia' => '🇸🇰',
    'Slovenia' => '🇸🇮',
    'Solomon Islands' => '🇸🇧',
    'Somalia' => '🇸🇴',
    'South Africa' => '🇿🇦',
    'South Korea' => '🇰🇷',
    'South Sudan' => '🇸🇸',
    'Spain' => '🇪🇸',
    'Sri Lanka' => '🇱🇰',
    'Sudan' => '🇸🇩',
    'Suriname' => '🇸🇷',
    'Sweden' => '🇸🇪',
    'Switzerland' => '🇨🇭',
    'Syria' => '🇸🇾',
    'Taiwan' => '🇹🇼',
    'Tajikistan' => '🇹🇯',
    'Tanzania' => '🇹🇿',
    'Thailand' => '🇹🇭',
    'Togo' => '🇹🇬',
    'Tonga' => '🇹🇴',
    'Trinidad and Tobago' => '🇹🇹',
    'Tunisia' => '🇹🇳',
    'Turkey' => '🇹🇷',
    'Turkmenistan' => '🇹🇲',
    'Tuvalu' => '🇹🇻',
    'Uganda' => '🇺🇬',
    'Ukraine' => '🇺🇦',
    'United Arab Emirates' => '🇦🇪',
    'United Kingdom' => '🇬🇧',
    'United States' => '🇺🇸',
    'Uruguay' => '🇺🇾',
    'USA' => '🇺🇸',
    'Uzbekistan' => '🇺🇿',
    'Vanuatu' => '🇻🇺',
    'Vatican City' => '🇻🇦',
    'Venezuela' => '🇻🇪',
    'Vietnam' => '🇻🇳',
    'Yemen' => '🇾🇪',
    'Zambia' => '🇿🇲',
    'Zimbabwe' => '🇿🇼',

    // UK constituent countries
    'England' => '🏴󠁧󠁢󠁥󠁮󠁧󠁿',
    'Scotland' => '🏴󠁧󠁢󠁳󠁣󠁴󠁿',
    'Wales' => '🏴󠁧󠁢󠁷󠁬󠁳󠁿',
    'Northern Ireland' => '🇬🇧',

    // Dependencies and territories
    'American Samoa' => '🇦🇸',
    'Anguilla' => '🇦🇮',
    'Aruba' => '🇦🇼',
    'Bermuda' => '🇧🇲',
    'British Virgin Islands' => '🇻🇬',
    'Cayman Islands' => '🇰🇾',
    'Cook Islands' => '🇨🇰',
    'Curaçao' => '🇨🇼',
    'Falkland Islands' => '🇫🇰',
    'Faroe Islands' => '🇫🇴',
    'French Guiana' => '🇬🇫',
    'French Polynesia' => '🇵🇫',
    'Gibraltar' => '🇬🇮',
    'Greenland' => '🇬🇱',
    'Guadeloupe' => '🇬🇵',
    'Guam' => '🇬🇺',
    'Guernsey' => '🇬🇬',
    'Hong Kong' => '🇭🇰',
    'Isle of Man' => '🇮🇲',
    'Jersey' => '🇯🇪',
    'Macau' => '🇲🇴',
    'Martinique' => '🇲🇶',
    'Mayotte' => '🇾🇹',
    'Montserrat' => '🇲🇸',
    'New Caledonia' => '🇳🇨',
    'Niue' => '🇳🇺',
    'Norfolk Island' => '🇳🇫',
    'Northern Mariana Islands' => '🇲🇵',
    'Puerto Rico' => '🇵🇷',
    'Réunion' => '🇷🇪',
    'Saint Barthélemy' => '🇧🇱',
    'Saint Helena' => '🇸🇭',
    'Saint Martin' => '🇲🇫',
    'Saint Pierre and Miquelon' => '🇵🇲',
    'Sint Maarten' => '🇸🇽',
    'Svalbard and Jan Mayen' => '🇸🇯',
    'Tokelau' => '🇹🇰',
    'Turks and Caicos Islands' => '🇹🇨',
    'U.S. Virgin Islands' => '🇻🇮',
    'Wallis and Futuna' => '🇼🇫',

    // Polish names
    'Afganistan' => '🇦🇫',
    'Albania' => '🇦🇱',
    'Algieria' => '🇩🇿',
    'Andora' => '🇦🇩',
    'Angola' => '🇦🇴',
    'Antigua i Barbuda' => '🇦🇬',
    'Argentyna' => '🇦🇷',
    'Armenia' => '🇦🇲',
    'Australia' => '🇦🇺',
    'Austria' => '🇦🇹',
    'Azerbejdżan' => '🇦🇿',
    'Bahamy' => '🇧🇸',
    'Bahrajn' => '🇧🇭',
    'Bangladesz' => '🇧🇩',
    'Barbados' => '🇧🇧',
    'Białoruś' => '🇧🇾',
    'Belgia' => '🇧🇪',
    'Belize' => '🇧🇿',
    'Benin' => '🇧🇯',
    'Bhutan' => '🇧🇹',
    'Boliwia' => '🇧🇴',
    'Bośnia i Hercegowina' => '🇧🇦',
    'Botswana' => '🇧🇼',
    'Brazylia' => '🇧🇷',
    'Brunei' => '🇧🇳',
    'Bułgaria' => '🇧🇬',
    'Burkina Faso' => '🇧🇫',
    'Burundi' => '🇧🇮',
    'Republika Zielonego Przylądka' => '🇨🇻',
    'Kambodża' => '🇰🇭',
    'Kamerun' => '🇨🇲',
    'Kanada' => '🇨🇦',
    'Republika Środkowoafrykańska' => '🇨🇫',
    'Czad' => '🇹🇩',
    'Chile' => '🇨🇱',
    'Chiny' => '🇨🇳',
    'Kolumbia' => '🇨🇴',
    'Komory' => '🇰🇲',
    'Kongo' => '🇨🇬',
    'Kostaryka' => '🇨🇷',
    'Chorwacja' => '🇭🇷',
    'Kuba' => '🇨🇺',
    'Cypr' => '🇨🇾',
    'Czechy' => '🇨🇿',
    'Demokratyczna Republika Konga' => '🇨🇩',
    'Dania' => '🇩🇰',
    'Dżibuti' => '🇩🇯',
    'Dominika' => '🇩🇲',
    'Dominikana' => '🇩🇴',
    'Timor Wschodni' => '🇹🇱',
    'Ekwador' => '🇪🇨',
    'Egipt' => '🇪🇬',
    'Salwador' => '🇸🇻',
    'Gwinea Równikowa' => '🇬🇶',
    'Erytrea' => '🇪🇷',
    'Estonia' => '🇪🇪',
    'Eswatini' => '🇸🇿',
    'Etiopia' => '🇪🇹',
    'Fidżi' => '🇫🇯',
    'Finlandia' => '🇫🇮',
    'Francja' => '🇫🇷',
    'Gabon' => '🇬🇦',
    'Gambia' => '🇬🇲',
    'Gruzja' => '🇬🇪',
    'Niemcy' => '🇩🇪',
    'Ghana' => '🇬🇭',
    'Grecja' => '🇬🇷',
    'Grenada' => '🇬🇩',
    'Gwatemala' => '🇬🇹',
    'Gwinea' => '🇬🇳',
    'Gwinea Bissau' => '🇬🇼',
    'Gujana' => '🇬🇾',
    'Haiti' => '🇭🇹',
    'Honduras' => '🇭🇳',
    'Węgry' => '🇭🇺',
    'Islandia' => '🇮🇸',
    'Indie' => '🇮🇳',
    'Indonezja' => '🇮🇩',
    'Iran' => '🇮🇷',
    'Irak' => '🇮🇶',
    'Irlandia' => '🇮🇪',
    'Izrael' => '🇮🇱',
    'Włochy' => '🇮🇹',
    'Wybrzeże Kości Słoniowej' => '🇨🇮',
    'Jamajka' => '🇯🇲',
    'Japonia' => '🇯🇵',
    'Jordania' => '🇯🇴',
    'Kazachstan' => '🇰🇿',
    'Kenia' => '🇰🇪',
    'Kiribati' => '🇰🇮',
    'Kuwejt' => '🇰🇼',
    'Kirgistan' => '🇰🇬',
    'Laos' => '🇱🇦',
    'Łotwa' => '🇱🇻',
    'Liban' => '🇱🇧',
    'Lesotho' => '🇱🇸',
    'Liberia' => '🇱🇷',
    'Libia' => '🇱🇾',
    'Liechtenstein' => '🇱🇮',
    'Litwa' => '🇱🇹',
    'Luksemburg' => '🇱🇺',
    'Madagaskar' => '🇲🇬',
    'Malawi' => '🇲🇼',
    'Malezja' => '🇲🇾',
    'Malediwy' => '🇲🇻',
    'Mali' => '🇲🇱',
    'Malta' => '🇲🇹',
    'Wyspy Marshalla' => '🇲🇭',
    'Mauretania' => '🇲🇷',
    'Mauritius' => '🇲🇺',
    'Meksyk' => '🇲🇽',
    'Mikronezja' => '🇫🇲',
    'Mołdawia' => '🇲🇩',
    'Monako' => '🇲🇨',
    'Mongolia' => '🇲🇳',
    'Czarnogóra' => '🇲🇪',
    'Maroko' => '🇲🇦',
    'Mozambik' => '🇲🇿',
    'Myanmar' => '🇲🇲',
    'Namibia' => '🇳🇦',
    'Nauru' => '🇳🇷',
    'Nepal' => '🇳🇵',
    'Holandia' => '🇳🇱',
    'Nowa Zelandia' => '🇳🇿',
    'Nikaragua' => '🇳🇮',
    'Niger' => '🇳🇪',
    'Nigeria' => '🇳🇬',
    'Korea Północna' => '🇰🇵',
    'Macedonia Północna' => '🇲🇰',
    'Norwegia' => '🇳🇴',
    'Oman' => '🇴🇲',
    'Pakistan' => '🇵🇰',
    'Palau' => '🇵🇼',
    'Panama' => '🇵🇦',
    'Papua-Nowa Gwinea' => '🇵🇬',
    'Paragwaj' => '🇵🇾',
    'Peru' => '🇵🇪',
    'Filipiny' => '🇵🇭',
    'Polska' => '🇵🇱',
    'Portugalia' => '🇵🇹',
    'Katar' => '🇶🇦',
    'Rumunia' => '🇷🇴',
    'Rosja' => '🇷🇺',
    'Rwanda' => '🇷🇼',
    'Saint Kitts i Nevis' => '🇰🇳',
    'Saint Lucia' => '🇱🇨',
    'Saint Vincent i Grenadyny' => '🇻🇨',
    'Samoa' => '🇼🇸',
    'San Marino' => '🇸🇲',
    'Wyspy Świętego Tomasza i Książęca' => '🇸🇹',
    'Arabia Saudyjska' => '🇸🇦',
    'Senegal' => '🇸🇳',
    'Serbia' => '🇷🇸',
    'Seszele' => '🇸🇨',
    'Sierra Leone' => '🇸🇱',
    'Singapur' => '🇸🇬',
    'Słowacja' => '🇸🇰',
    'Słowenia' => '🇸🇮',
    'Wyspy Salomona' => '🇸🇧',
    'Somalia' => '🇸🇴',
    'Republika Południowej Afryki' => '🇿🇦',
    'Korea Południowa' => '🇰🇷',
    'Sudan Południowy' => '🇸🇸',
    'Hiszpania' => '🇪🇸',
    'Sri Lanka' => '🇱🇰',
    'Sudan' => '🇸🇩',
    'Surinam' => '🇸🇷',
    'Szwecja' => '🇸🇪',
    'Szwajcaria' => '🇨🇭',
    'Syria' => '🇸🇾',
    'Tajwan' => '🇹🇼',
    'Tadżykistan' => '🇹🇯',
    'Tanzania' => '🇹🇿',
    'Tajlandia' => '🇹🇭',
    'Togo' => '🇹🇬',
    'Tonga' => '🇹🇴',
    'Trynidad i Tobago' => '🇹🇹',
    'Tunezja' => '🇹🇳',
    'Turcja' => '🇹🇷',
    'Turkmenistan' => '🇹🇲',
    'Tuvalu' => '🇹🇻',
    'Uganda' => '🇺🇬',
    'Ukraina' => '🇺🇦',
    'Zjednoczone Emiraty Arabskie' => '🇦🇪',
    'Wielka Brytania' => '🇬🇧',
    'Stany Zjednoczone' => '🇺🇸',
    'Urugwaj' => '🇺🇾',
    'Uzbekistan' => '🇺🇿',
    'Vanuatu' => '🇻🇺',
    'Watykan' => '🇻🇦',
    'Wenezuela' => '🇻🇪',
    'Wietnam' => '🇻🇳',
    'Jemen' => '🇾🇪',
    'Zambia' => '🇿🇲',
    'Zimbabwe' => '🇿🇼',

    // UK constituent countries (Polish)
    'Anglia' => '🏴󠁧󠁢󠁥󠁮󠁧󠁿',
    'Szkocja' => '🏴󠁧󠁢󠁳󠁣󠁴󠁿',
    'Walia' => '🏴󠁧󠁢󠁷󠁬󠁳󠁿',
    'Irlandia Północna' => '🇬🇧',

    // Dependencies and territories (Polish)
    'Samoa Amerykańskie' => '🇦🇸',
    'Anguilla' => '🇦🇮',
    'Aruba' => '🇦🇼',
    'Bermudy' => '🇧🇲',
    'Brytyjskie Wyspy Dziewicze' => '🇻🇬',
    'Kajmany' => '🇰🇾',
    'Wyspy Cooka' => '🇨🇰',
    'Curaçao' => '🇨🇼',
    'Falklandy' => '🇫🇰',
    'Wyspy Owcze' => '🇫🇴',
    'Gujana Francuska' => '🇬🇫',
    'Polinezja Francuska' => '🇵🇫',
    'Gibraltar' => '🇬🇮',
    'Grenlandia' => '🇬🇱',
    'Gwadelupa' => '🇬🇵',
    'Guam' => '🇬🇺',
    'Guernsey' => '🇬🇬',
    'Hongkong' => '🇭🇰',
    'Wyspa Man' => '🇮🇲',
    'Jersey' => '🇯🇪',
    'Makau' => '🇲🇴',
    'Martynika' => '🇲🇶',
    'Majotta' => '🇾🇹',
    'Montserrat' => '🇲🇸',
    'Nowa Kaledonia' => '🇳🇨',
    'Niue' => '🇳🇺',
    'Wyspa Norfolk' => '🇳🇫',
    'Mariany Północne' => '🇲🇵',
    'Portoryko' => '🇵🇷',
    'Reunion' => '🇷🇪',
    'Saint-Barthélemy' => '🇧🇱',
    'Święta Helena' => '🇸🇭',
    'Saint-Martin' => '🇲🇫',
    'Saint-Pierre i Miquelon' => '🇵🇲',
    'Sint Maarten' => '🇸🇽',
    'Svalbard i Jan Mayen' => '🇸🇯',
    'Tokelau' => '🇹🇰',
    'Turks i Caicos' => '🇹🇨',
    'Wyspy Dziewicze Stanów Zjednoczonych' => '🇻🇮',
    'Wallis i Futuna' => '🇼🇫',
];

    return isset($map[$country_name]) ? $map[$country_name] : '';
}